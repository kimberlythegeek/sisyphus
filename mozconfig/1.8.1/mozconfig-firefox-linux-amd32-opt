. $topsrcdir/browser/config/mozconfig


CPU=`cat /proc/cpuinfo | grep 'processor.*: [0-9]*' | wc -l`
let J=$CPU+1
if [[ $J -gt 4 ]]; then let J=4; fi


mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/firefox-opt
mk_add_options MOZ_MAKE_FLAGS=-j${J}
mk_add_options MOZ_CO_PROJECT=browser

ac_add_options --enable-application=browser
ac_add_options --disable-debug
ac_add_options --enable-optimize="-Os -freorder-blocks -fno-reorder-functions -gstabs+"
ac_add_options --enable-debugger-info-modules=yes

ac_add_options --disable-tests
ac_add_options --enable-default-toolkit=gtk2
ac_add_options --enable-xft
ac_add_options --disable-freetype2
ac_add_options --enable-svg
ac_add_options --enable-canvas
ac_add_options --disable-static
ac_add_options --enable-shared

# required only on fedora8...
if uname -r | grep -q '\.fc8'; then
ac_add_options --enable-system-cairo
fi
ac_add_options --enable-logrefcnt
